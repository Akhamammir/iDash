<nb-layout>
  <nb-layout-column>
    <div class="p-grid package-container vertical-container">
      <div class="p-col-12"></div>
      <div class="p-col-12"></div>

      <div class="p-col-12"></div>
      <div class="p-col-12"></div>
      <div class="p-col-12">
        <div class="p-text-center p-text-bold" style="font-size: 36px">
          Lista i-Box
        </div>
      </div>
      <div class="p-col-12"></div>
      <div class="p-col-12"></div>
      <div class="p-md-8 p-col-12"></div>

      <div class="p-md-4 p-col-12">
        <div class="p-d-flex">
          <button
            pButton
            pRipple
            type="button"
            label="NUEVO CLIENTE"
            [routerLink]="['../newcustomerebox']"
          ></button>

          <button
            pButton
            pRipple
            type="button"
            label="NUEVO IBOX"
            [routerLink]="['../ebox/new']"
            class="p-mx-2"
          ></button>
        </div>
      </div>
      <div class="p-col-12"></div>

      <div class="p-col-12">
        <p-toast></p-toast>
        <p-table
          [showCurrentPageReport]="true"
          [rowsPerPageOptions]="[10, 25, 50]"
          [value]="iboxs!"
          [autoLayout]="true"
        >
          <!-- <ng-template pTemplate="caption">
            <div class="p-d-flex">
              <span class="p-input-icon-left p-ml-auto">
                <i class="pi pi-search"></i>
                <input
                  pInputText
                  type="text"
                  class="form-control-input-ibox"
                  placeholder="Search keyword"
                />
              </span>
            </div>
          </ng-template> -->
          <ng-template pTemplate="header">
            <tr>
              <th>#i-box</th>
              <th>Clientes Asignados</th>
              <th style="width: 10px !important">Contenido</th>

              <th>Status</th>
              <th></th>
            </tr>
            <tr>
              <th>
                <p-columnFilter
                  type="text"
                  class="form-control-input-ibox"
                  field="i-box"
                ></p-columnFilter>
              </th>
              <th>
                <p-columnFilter type="text" field="customer"></p-columnFilter>
              </th>
              <th style="width: 10px"></th>

              <th>
                <p-columnFilter
                  field="status"
                  matchMode="equals"
                  [showMenu]="false"
                >
                  <ng-template
                    pTemplate="filter"
                    let-value
                    let-filter="filterCallback"
                  >
                    <p-dropdown
                      [options]="statuses"
                      (onChange)="asd($event.value)"
                      placeholder="Status"
                      optionLabel="name"
                      [showClear]="true"
                    >
                    </p-dropdown>
                  </ng-template>
                </p-columnFilter>
              </th>
              <th></th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-ibox>
            <tr>
              <td>{{ ibox.noIbox }}</td>
              <td>{{ ibox.nombreCliente }}</td>
              <td
                class="p-text-wrap p-text-truncate"
                style="width: 10px !important"
              >
                {{ ibox.comentarios }}
              </td>
              <td>{{ ibox.status }}</td>
              <td>
                <nb-icon icon="edit-outline" (click)="editar(ibox.id)" nbButton>
                </nb-icon>
                <nb-icon
                  icon="trash-outline"
                  nbButton
                  (click)="eliminar(ibox.id)"
                  class="eliminarButton"
                >
                </nb-icon>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
      <div class="p-col-8"></div>

      <div class="p-col-7"></div>
      <div class="p-col-12"></div>
    </div>
  </nb-layout-column>
</nb-layout>
